(this["webpackJsonphegeos-front-end"]=this["webpackJsonphegeos-front-end"]||[]).push([[0],{293:function(e,t,n){},321:function(e,t){},322:function(e,t){},335:function(e,t){},460:function(e,t){},464:function(e,t){},466:function(e,t){},476:function(e,t){},478:function(e,t){},505:function(e,t){},507:function(e,t){},512:function(e,t){},514:function(e,t){},521:function(e,t){},533:function(e,t){},536:function(e,t){},595:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n.n(r),i=n(48),c=n.n(i),o=n(15),s=n(4),l=n(9),u=n(7),d=n(8),p=n(28),h=(n(293),n(1)),j=n(77);var b=function(e){return Object(h.jsx)("footer",{className:"footer-area",children:Object(h.jsx)("div",{className:"container",children:Object(h.jsxs)("p",{className:"order-2 order-sm-1 pt-5",children:["v",j.version," Copyright \xa9 HEGEOS"]})})})},m=n(49),O=n.p+"static/media/logo.3c9ecb7a.png",x=n(599);var f=function(e){return Object(h.jsx)(h.Fragment,{children:e.isLoggedIn()?Object(h.jsxs)(x.a,{variant:e.variant||"primary",onClick:e.onDisconnectWallet,children:["Disconnect ",e.wallet]}):Object(h.jsx)(x.a,{variant:e.variant||"primary",onClick:e.onAttachWallet,children:"Connect your wallet"})})},v=n(77);var g=function(e){return Object(h.jsxs)("header",{className:"d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 ",children:[Object(h.jsx)(m.b,{to:v.homepage+"/",className:"d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none",children:Object(h.jsx)("img",{src:O,style:{width:"160px"}})}),Object(h.jsx)("ul",{className:"nav col-12 col-md-auto mb-2 justify-content-center mb-md-0",children:0!=e.wallet?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("li",{children:Object(h.jsx)(m.c,{to:v.homepage+"/holders",className:"nav-link px-2",children:"Holders"})}),Object(h.jsx)("li",{children:Object(h.jsx)(m.c,{to:v.homepage+"/liquidity",className:"nav-link px-2",children:"Writers"})})]}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("li",{children:Object(h.jsx)(m.c,{to:v.homepage+"/",className:"nav-link px-2",children:"Home"})})})}),Object(h.jsx)("div",{className:"col-md-3 text-end",children:Object(h.jsx)(f,{isLoggedIn:e.isLoggedIn,onAttachWallet:e.onAttachWallet,onDisconnectWallet:e.onDisconnectWallet})})]})},y=n(278),P=n(11),E=n(16),C=n(44),N=n.n(C),S=[{currency:"USDC",marketPrice:6.26,utilizationRate:0,availabilityMin:0,availabilityMax:0},{currency:"DAI",marketPrice:6.26,utilizationRate:0,availabilityMin:0,availabilityMax:0}],k={getCryptoCurrencies:function(){return S},getCryptoCurrency:function(e){var t=S.findIndex((function(t){return t.currency===e}));return-1!==t?S[t]:null},setMarketPrice:function(e,t){var n=S.findIndex((function(t){return t.currency===e}));-1!==n&&(S[n].marketPrice=t)}},w=(n(137),function(e){return.01*e}),A=function(e,t,n,r,a){return e*Math.sqrt(t)*r*n/a},I=function(e,t,n,r,a){return e*Math.sqrt(t)*r*a/n},T=function(e,t,n,r){return"PUT"===e&&n>t?(n-t)*r/t:"CALL"===e&&n<t?(t-n)*r/t:0},_=function(e,t,n,r,a,i){if(console.log("option:",e),console.log("optionSize:",t),console.log("marketPrice:",n),console.log("strikePrice:",r),console.log("impliedVolRate:",a),console.log("holdingPeriod:",i),"PUT"===e){var c=A(t,i,r,a,n),o=T(e,n,r,t),s=w(t),l=1.05*(c+o+s)*n;return console.log("periodFee:",c),console.log("strikeFee:",o),console.log("settlementFee:",s),console.log("totalFee:",l),l}if("CALL"===e){var u=I(t,i,r,a,n),d=T(e,n,r,t),p=w(t),h=1.05*(u+d+p)*n;return console.log("periodFee:",u),console.log("strikeFee:",d),console.log("settlementFee:",p),console.log("totalFee:",h),h}},L={getCallOptionProfit:function(e,t,n){return(e-t)*n/e},getPutOptionProfit:function(e,t,n){return(t-e)*n/e},getSettlementFee:w,getCallPeriodFee:I,getPutPeriodFee:A,getTotalCost:_,getBreakEven:function(e,t,n,r,a){return"CALL"===e?Math.abs(n+_(e,1,t,n,r,a)):"PUT"===e?Math.abs(n-_(e,1,t,n,r,a)):void 0}},D=n(603),R=n(604);function F(e){return Object(h.jsxs)("div",{className:"faqPage boxStyle p-4",children:[Object(h.jsx)("h2",{children:"FREQUENTLY ASKED QUESTION"}),Object(h.jsx)("hr",{}),Object(h.jsxs)(D.a,{defaultActiveKey:"0",children:[Object(h.jsxs)(R.a,{bg:"transparent",children:[Object(h.jsx)(D.a.Toggle,{as:R.a.Header,eventKey:"0",children:Object(h.jsx)("h4",{class:"text-light",children:"Ipsum elit ea non magna qui officia."})}),Object(h.jsx)(D.a.Collapse,{eventKey:"0",children:Object(h.jsx)(R.a.Body,{children:"Nostrud irure incididunt fugiat in adipisicing irure non incididunt excepteur anim laboris dolore. Nisi sit cillum irure laborum velit in qui pariatur duis nisi ut Lorem. Aliqua laboris Lorem incididunt exercitation tempor qui. Dolore sit excepteur aliqua eu velit anim fugiat eiusmod reprehenderit ea cillum deserunt commodo. Laboris laboris Lorem minim enim eiusmod excepteur. Cupidatat velit exercitation quis consequat. Adipisicing incididunt proident velit anim velit consequat aute aliquip Lorem do ipsum ut labore minim."})})]}),Object(h.jsxs)(R.a,{bg:"transparent",children:[Object(h.jsx)(D.a.Toggle,{as:R.a.Header,eventKey:"1",children:Object(h.jsx)("h4",{class:"text-light",children:"Enim est qui aliquip ea ex consequat dolore ut."})}),Object(h.jsx)(D.a.Collapse,{eventKey:"1",children:Object(h.jsx)(R.a.Body,{children:"Sint quis magna cupidatat id non ut ex Lorem velit. Cillum minim minim mollit cillum quis nulla nostrud proident sit Lorem dolor eiusmod. Tempor nisi adipisicing proident irure eiusmod sint proident cupidatat nisi. Irure nulla commodo sunt eiusmod anim do laborum voluptate dolor. Sit ex Lorem exercitation adipisicing Lorem magna enim consequat qui. Consectetur nostrud in eiusmod excepteur exercitation quis veniam."})})]})]})]})}var W=n.p+"static/media/features-icon-1.cc7bd428.png",U=n.p+"static/media/features-icon-2.eed4b693.png";n.p,n.p;var M=function(e){return Object(h.jsx)("section",{className:"hegeos-features-area",children:Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-lg-6",children:Object(h.jsxs)("div",{className:"hegeos-features-item text-center mt-30",children:[Object(h.jsx)("img",{src:W,alt:"icon"}),Object(h.jsx)("h3",{className:"title",children:"HOLDERS"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:" Trade EOS call and put options."})," ",Object(h.jsx)("br",{}),"Non-custodial options with on-chain settlement. Choose any strike price, exercise at any moment."]})]})}),Object(h.jsx)("div",{className:"col-lg-6",children:Object(h.jsxs)("div",{className:"hegeos-features-item text-center mt-30",children:[Object(h.jsx)("img",{src:U,alt:"icon"}),Object(h.jsx)("h3",{className:"title",children:"WRITERS"}),Object(h.jsxs)("p",{children:[Object(h.jsx)("b",{children:" Write EOS call and put options."})," ",Object(h.jsx)("br",{})," Provide liquidity and start earning yield on EOS. Auto diversi\ufb01cation of capital allocation."]})]})})]})})})},q=n(51),B=function(e,t,n,r){var a=parseInt(100*t),i=parseInt(100*n),c=parseInt(100*r),o=Math.abs(c-i);return console.log("mp100:",a,", sp100:",i,", be100:",c,", d:",o),2.8*("CALL"===e?a>=c+o?0:a>=c?32-Math.round(32*(a-c)/o):a<=i-o?96:a<=i?64+Math.round(32*(i-a)/o):64-Math.round(32*(a-i)/o):"PUT"===e?a>=i+o?0:a>=i?32-Math.round(32*(a-i)/o):a<=c-o?96:a<=c?64+Math.round(32*(c-a)/o):64-Math.round(32*(a-c)/o):48)};function H(e){var t=e.option,n=e.strikePrice,r=e.breakEvenPrice,a=e.marketPrice,i=e.totalCost,c=Object(q.useSpring)({to:{y:B(t,a,n,r)},from:{y:0}}),o=Object(q.useSpring)({to:{y:"CALL"===t?-91:0},from:{y:0}}),s=Object(q.useSpring)({to:{y:"CALL"===t?91:0},from:{y:0}});return Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-md-8",children:Object(h.jsxs)("div",{className:"optionChart",children:[Object(h.jsx)(q.animated.div,{className:"chartPriceDisplay chartOptionCurrent",style:c,"data-value":"Current $"+parseFloat(a).toFixed(2)+(Object({NODE_ENV:"production",PUBLIC_URL:"/test-m",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",REACT_APP_CHAIN_NAME:"EOS",REACT_APP_EOS_ENDPOINT:"https://eos.greymass.com",REACT_APP_HEGEOS_SYMBOL:"EHEGIC",REACT_APP_LP_CONTRACT_NAME:"dadusdtokens",REACT_APP_MIN_OPTION_SIZE:"5",REACT_APP_NODE_ENDPOINT:"https://api.eosn.io:443",REACT_APP_OPTION_CONFIG_TABLE:"config2",REACT_APP_OPTION_CONTRACT_NAME:"dadeosoption",REACT_APP_POOL_CONTRACT_NAME:"ehegicpool11",REACT_APP_TEST_MARKET_PRICE_X:"yes"}).REACT_APP_TEST_MARKET_PRICE?" (test)":"")}),Object(h.jsx)(q.animated.div,{style:o,className:"chartPriceDisplay chartOptionBreakEven","data-value":"Break Even $"+parseFloat(r).toFixed(2)}),Object(h.jsx)(q.animated.div,{style:s,className:"chartPriceDisplay chartOptionStrikePrice","data-value":"Strike Price $"+parseFloat(n).toFixed(2)}),Object(h.jsxs)("div",{className:t.toLowerCase()+"OptionHeader",children:[Object(h.jsx)("div",{className:"chartGridLine"}),Object(h.jsx)("div",{className:"chartGridLine"}),Object(h.jsx)("div",{className:t.toLowerCase()+"TopLine chartGridLine"})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:t.toLowerCase()+"Line chartGridLine"}),Object(h.jsx)("div",{className:"chartGridLine"}),Object(h.jsx)("div",{className:"chartGridLine"})]}),Object(h.jsxs)("div",{className:t.toLowerCase()+"OptionFooter",children:[Object(h.jsx)("div",{className:t.toLowerCase()+"BotLine chartGridLine"}),Object(h.jsx)("div",{className:"chartGridLine"}),Object(h.jsx)("div",{className:"chartGridLine"})]})]})}),Object(h.jsxs)("div",{className:"col-md-4",children:[Object(h.jsxs)("div",{className:"callout callout-strike",children:[Object(h.jsx)("span",{children:"Strike Price"}),Object(h.jsxs)("h3",{children:["$",parseFloat(n).toFixed(2)]})]}),Object(h.jsxs)("div",{className:"callout callout-total",children:[Object(h.jsx)("span",{children:"Total Cost"}),Object(h.jsxs)("h3",{children:["$",parseFloat(i).toFixed(2)]})]}),Object(h.jsxs)("div",{className:"callout callout-even",children:[Object(h.jsx)("span",{children:"Break-even"}),Object(h.jsxs)("h3",{children:["$",parseFloat(r).toFixed(2)]})]})]})]})}function G(e){var t=e.option,n=e.holdingPeriod,r=(e.strikePrice,e.breakEvenPrice),a=Object(q.useSpring)({to:{opacity:1},from:{opacity:0}}),i=[];return i[1]="1 day",i[7]="7 days (1 week)",i[14]="14 days (2 weeks)",i[21]="21 days (3 weeks)",i[28]="28 days (4 weeks)","PUT"===t?Object(h.jsx)(q.animated.div,{style:a,children:Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["If the price of underlying asset will fall down lower than ",r," during the next ",i[n]," you will be able to exercise your option and take profits. If the price remains higher than ",r," during the next ",i[n]," your option will expire worthless."]})})}):"CALL"===t?Object(h.jsx)(q.animated.div,{style:a,children:Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["If the price of underlying asset will rise higher than ",r," during the next ",i[n]," you will be able to exercise your option and take profits. If the price remains lower than ",r," during the next ",i[n]," your option will expire worthless."]})})}):void 0}var z=n.p+"static/media/banner-bg-2.56ef8517.png";function K(e){return Object(h.jsx)("div",{className:"jumbotron",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col text-center pt-5",children:[" ",Object(h.jsx)("h2",{className:"display-5 text-center pt-5",children:Object(h.jsx)("strong",{children:"THE SIMPLEST OPTIONS TRADING EXPERIENCE"})}),Object(h.jsx)("p",{className:"lead text-center",children:"Trade non-custodial options for profits or to hedge your positions. Enjoy fixed price and unlimited upside of the options contracts. No registration, KYC or email required."}),Object(h.jsx)("hr",{className:"my-4"}),Object(h.jsx)("p",{children:"Get Started now and connect your wallet."}),Object(h.jsx)("p",{className:"lead",children:Object(h.jsx)(f,{variant:"danger",isLoggedIn:e.isLoggedIn,onAttachWallet:e.onAttachWallet,onDisconnectWallet:e.onDisconnectWallet})})]}),Object(h.jsx)("div",{className:"col",children:Object(h.jsx)("img",{src:z,alt:""})})]})})}var V=n(10),Y=n.n(V),J=n(13),$=n(89),Q=function(){function e(){Object(s.a)(this,e)}return Object(l.a)(e,null,[{key:"getTableRows",value:function(){var e=Object(J.a)(Y.a.mark((function e(t,n,r,a,i){var c,o,s;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new $.JsonRpc(t),e.prev=1,o={json:!0,code:n,scope:i||n,table:r,reverse:!1,show_payer:!1},"object"===typeof a&&null!==a&&Object.keys(a).forEach((function(e){o[e]=a[e]})),e.next=6,c.get_table_rows(o);case 6:return s=e.sent,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(1),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()},{key:"getNodeTableRows",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a,i){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getTableRows("https://api.eosn.io:443",n,r,a,i));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"getEosTableRows",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a,i){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getTableRows("https://eos.greymass.com",n,r,a,i));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"getPoolTableRows",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getNodeTableRows("ehegicpool11",n,r,a));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getOptionTableRows",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getNodeTableRows("dadeosoption",n,r,a));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getLPTableRows",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.getNodeTableRows("dadusdtokens",n,r,a));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getBalance",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a){var i,c,o;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=e.accountName()){t.next=3;break}return t.abrupt("return",["0 "+a]);case 3:return c=new $.JsonRpc(n),t.prev=4,t.next=7,c.get_currency_balance(r,i,a);case 7:return o=t.sent,t.abrupt("return",o);case 11:throw t.prev=11,t.t0=t.catch(4),t.t0;case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"getCurrencyBalance",value:function(){var t=Object(J.a)(Y.a.mark((function t(n){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var a="EOS"===n?"eosio.token":"dadusdtokens";e.getBalance("https://api.eosn.io:443",a,n).then((function(e){t(e)})).catch((function(e){r(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getUSDCBalance",value:function(){var t=Object(J.a)(Y.a.mark((function t(){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.getBalance("https://api.eosn.io:443","dadusdtokens","USDC").then((function(e){t(e)})).catch((function(e){n(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getDAIBalance",value:function(){var t=Object(J.a)(Y.a.mark((function t(){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.getBalance("https://api.eosn.io:443","dadusdtokens","DAI").then((function(e){t(e)})).catch((function(e){n(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"getEOSBalance",value:function(){var t=Object(J.a)(Y.a.mark((function t(){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){e.getBalance("https://api.eosn.io:443","eosio.token","EOS").then((function(e){t(e)})).catch((function(e){n(e)}))})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"invokeAction",value:function(){var t=Object(J.a)(Y.a.mark((function t(r,a,i,c,o){var s,l,u,d,p,h,j,b,m,O,x;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=new $.JsonRpc("https://api.eosn.io:443"),l=[],u=e.ualActiveUser?e.ualActiveUser.accountName:localStorage.getItem("name_account"),d=e.ualActiveUser?e.ualActiveUser.requestPermission:localStorage.getItem("account_permission"),c&&l.push({account:o||"eosio.token",name:"transfer",authorization:[{actor:u,permission:d}],data:c}),l.push({account:a,name:r,authorization:[{actor:u,permission:d}],data:i}),console.log("actions:",l),!e.ualActiveUser){t.next=18;break}return t.prev=8,t.next=11,e.ualActiveUser.signTransaction({actions:l},{blocksBehind:3,expireSeconds:30});case 11:return p=t.sent,t.abrupt("return",p);case 15:throw t.prev=15,t.t0=t.catch(8),t.t0;case 18:return h=localStorage.getItem("private_key"),j=n(317),b=j.JsSignatureProvider,m=new b([h]),O=new $.Api({rpc:s,signatureProvider:m,textDecoder:new TextDecoder,textEncoder:new TextEncoder}),t.prev=22,t.next=25,O.transact({actions:l},{blocksBehind:3,expireSeconds:30});case 25:return x=t.sent,t.abrupt("return",x);case 29:throw t.prev=29,t.t1=t.catch(22),t.t1;case 32:case"end":return t.stop()}}),t,null,[[8,15],[22,29]])})));return function(e,n,r,a,i){return t.apply(this,arguments)}}()},{key:"invokePoolAction",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a,i){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.invokeAction(n,"ehegicpool11",r,a,i));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"invokeOptionAction",value:function(){var t=Object(J.a)(Y.a.mark((function t(n,r,a,i){return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.invokeAction(n,"dadeosoption",r,a,i));case 1:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}()},{key:"login",value:function(e,t,n){return new Promise((function(r,a){localStorage.setItem("name_account",e),localStorage.setItem("private_key",t),localStorage.setItem("account_permission",n),r()}))}},{key:"logout",value:function(){return new Promise((function(e,t){localStorage.removeItem("name_account"),localStorage.removeItem("private_key"),localStorage.removeItem("account_permission"),e()}))}},{key:"isLoggedIn",value:function(t){if(e.ualActiveUser=t&&t.ual&&t.ual.activeUser,e.ualActiveUser)return e.ualActiveUser.accountName}},{key:"accountName",value:function(){return e.ualActiveUser?e.ualActiveUser.accountName:localStorage.getItem("name_account")}},{key:"accountPermission",value:function(){return e.ualActiveUser?e.ualActiveUser.requestPermission:localStorage.getItem("account_permission")}},{key:"usdPrice",value:function(){return new Promise((function(t,n){var r=Math.min(12,12),a=Math.max(12,12),i=a+1-r;e.getEosTableRows("swap.defi","pairs",{lower_bound:r,upper_bound:a,limit:i}).then((function(e){var n={};e.rows.forEach((function(e){12===e.id&&(n.dai=parseFloat(e.price0_last)),12===e.id&&(n.usdc=parseFloat(e.price0_last))})),t(n)})).catch((function(e){n(e)}))}))}},{key:"optionConfig",value:function(){return new Promise((function(t,n){e.getOptionTableRows("config2",{limit:1}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"optionList",value:function(t,n){return new Promise((function(r,a){var i={reverse:!0,limit:t||100};n&&(i.upper_bound=n),e.getOptionTableRows("options",i).then((function(e){r(e)})).catch((function(e){a(e)}))}))}},{key:"poolStat",value:function(){return new Promise((function(t,n){e.getPoolTableRows("tokenstat1",{limit:1}).then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"hegeosStat",value:function(){return new Promise((function(t,n){e.getLPTableRows("stat",{limit:1},"EHEGIC").then((function(e){t(e)})).catch((function(e){n(e)}))}))}},{key:"optionCreate",value:function(t,n,r,a,i,c){return new Promise((function(o,s){var l=e.accountName();e.invokeOptionAction("create",{account:l,amount:t,strike:n,period:r,optiontype:a,feein:i},{from:l,to:"dadeosoption",quantity:c,memo:""},"dadusdtokens").then((function(e){console.log("result:",e),o(e)})).catch((function(e){s(e)}))}))}},{key:"optionCreateCurr",value:function(t,n,r,a,i,c){console.log("fee:",c);var o=1.01*c;return console.log("fee + 1%:",o),e.optionCreate(t,n,r,a,"6,"+i,o.toFixed(6)+" "+i)}},{key:"optionCreateUSDC",value:function(t,n,r,a,i){return e.optionCreate(t,n,r,a,"6,USDC",i.toFixed(6)+" USDC")}},{key:"optionCreateDAI",value:function(t,n,r,a,i){return e.optionCreate(t,n,r,a,"6,DAI",i.toFixed(6)+" DAI")}},{key:"optionExercise",value:function(t,n){return new Promise((function(r,a){e.invokeOptionAction("exercise",{optionid:t,profitsym:n}).then((function(e){r(e)})).catch((function(e){a(e)}))}))}},{key:"optionExerciseCurr",value:function(t,n){var r="EOS"===n?"4":"6";return e.optionExercise(t,r+","+n)}},{key:"optionExerciseUSDC",value:function(t){return e.optionExercise(t,"6,USDC")}},{key:"optionExerciseDAI",value:function(t){return e.optionExercise(t,"6,DAI")}},{key:"optionExerciseEOS",value:function(t){return e.optionExercise(t,"4,EOS")}},{key:"poolDeposit",value:function(t,n){return new Promise((function(r,a){var i=e.accountName();e.invokePoolAction("addliquidity",{account:i,amount:t,minmint:n},{from:i,to:"ehegicpool11",quantity:t,memo:""}).then((function(e){r(e)})).catch((function(e){a(e)}))}))}},{key:"poolWithdraw",value:function(t,n){return new Promise((function(r,a){var i=e.accountName();e.invokePoolAction("withdraw",{account:i,amount:t,maxburn:n},{from:i,to:"ehegicpool11",quantity:n,memo:""},"dadusdtokens").then((function(e){r(e)})).catch((function(e){a(e)}))}))}}]),e}();function X(e){var t=Object(r.useState)(null),n=Object(o.a)(t,2),a=(n[0],n[1]),i=Object(r.useState)(0),c=Object(o.a)(i,2),s=c[0],l=c[1],u=Object(r.useState)(0),d=Object(o.a)(u,2),p=d[0],j=d[1],b=Object(r.useState)(0),m=Object(o.a)(b,2),O=m[0],x=m[1];return Object(r.useEffect)((function(){return e.getPoolStat((function(e){var t=e&&parseFloat(e.totaldeposit.split(" ")[0]),n=e&&parseFloat(e.lockedamount.split(" ")[0]),r=t&&(100*n/t).toFixed(2);a(e),l(t-n),j(t),x(r)})),function(){}}),[e.refresh]),Object(h.jsxs)("div",{className:"liquidityPool boxStyle  p-4",children:[Object(h.jsx)("h2",{children:"LIQUIDITY POOL"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-6",children:["Utilization Rate :",Object(h.jsx)("br",{}),Object(h.jsx)("h3",{children:O+"%"})]}),Object(h.jsxs)("div",{className:"col-md-6",children:["Available Liquidity :",Object(h.jsx)("br",{}),Object(h.jsx)("h3",{children:s.toFixed(4)+" EOS / "+p.toFixed(4)+" EOS"})]}),Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsx)("div",{className:"progress",children:Object(h.jsx)("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:O+"%"},"aria-valuenow":O,"aria-valuemin":"0","aria-valuemax":"100"})})})]})]})}var Z=n(602),ee=n(600),te=n(601),ne=[{type:"DAI",icon:"images/currency/dai.svg"},{type:"EOS",icon:"images/currency/eos.svg"},{type:"USDC",icon:"images/currency/usdc.svg"}],re={getCurrency:function(){return ne},setCurrency:function(e){var t=ne.filter((function(t){return t.type===e}));return console.log("Currency function can be set here"),t[0]?t[0]:null}},ae=n(77);var ie=function(e){var t=Object(r.useState)(!1),n=Object(o.a)(t,2),a=n[0],i=n[1],c=function(){return i(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(x.a,{variant:e.variant||"primary",onClick:function(){return i(!0)},children:"Exercise"}),Object(h.jsx)(te.a,{show:a,onHide:c,dialogClassName:"w-100",children:Object(h.jsxs)("div",{className:"text-dark",style:{backgroundColor:"#074c61",textAlign:"center",padding:"20px",color:"#fff"},children:[Object(h.jsx)("h2",{style:{color:"#92cfbb"},children:"HOW DO YOU WANT TO RECEIVE YOUR PROFIT?"}),Object(h.jsx)("div",{children:re.getCurrency().map((function(t){return Object(h.jsx)("a",{className:"btn btn-primary w-25 rounded-0 ",onClick:function(){e.onSelectCurrency(t),c()},children:Object(h.jsxs)("div",{className:"text-center",children:[Object(h.jsx)("img",{src:ae.homepage+"/"+t.icon,alt:t.image,className:"w-25",style:{height:"100px"}}),Object(h.jsx)("br",{}),Object(h.jsx)("h3",{className:"pt-3",children:t.type})]})})}))})]})})]})},ce=function(e){for(var t=e.optionsPerPage,n=e.totalOptions,r=e.paginate,a=e.showExpired,i=e.onShowExpired,c=[],o=1;o<=Math.ceil(n/t);o++)c.push(o);return Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{className:"pagination",children:[c.map((function(e){return Object(h.jsx)("li",{className:"page-item",children:Object(h.jsx)(x.a,{variant:"link",onClick:function(){return r(e)},className:"page-link",children:e})},e)})),Object(h.jsxs)("label",{for:"show-expire",style:{display:"inline-block",textAlign:"right",width:"100%"},onClick:i,children:[Object(h.jsx)("input",{id:"show-expired",type:"checkbox",checked:a})," Show Expired"]})]})})};var oe=function(e){var t=Object(r.useState)("active"),n=Object(o.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)([]),s=Object(o.a)(c,2),l=s[0],u=s[1],d=Object(r.useState)([]),p=Object(o.a)(d,2),j=p[0],b=p[1],m=Object(r.useState)({}),O=Object(o.a)(m,2),x=O[0],f=O[1],v=Object(r.useState)({}),g=Object(o.a)(v,2),y=g[0],P=g[1],E=Object(r.useState)(1),C=Object(o.a)(E,2),N=C[0],S=C[1],k=Object(r.useState)(1),w=Object(o.a)(k,2),A=w[0],I=w[1],T=Object(r.useState)(10),_=Object(o.a)(T,2),L=_[0],D=(_[1],Object(r.useState)(20)),R=Object(o.a)(D,2),F=R[0],W=(R[1],Object(r.useState)(!1)),U=Object(o.a)(W,2),M=U[0],q=U[1],B=function t(n,r,a){console.log("options result:",n);var i=r.concat(n.rows);if(n.more){var c=parseInt(n.next_key);if(c>0&&(!a||c<a))return void Q.optionList(F,n.next_key).then((function(e){return t(e,i,c)}),e.handleError)}var o=i.filter((function(e){return e.account===Q.accountName()}));if(N>1){var s=Math.floor((o.length+L-1)/L);s<N&&S(s||1)}if(u(o),A>1){var l=Math.floor((i.length+L-1)/L);l<A&&I(l||1)}b(i)},H=function(){Q.optionList(F).then((function(e){return B(e,[])}),e.handleError)},G=function(e,t,n){n({}),Q.optionExerciseCurr(e,t).then((function(e){H()}),(function(t){return n({option_id:e,error:t})}))},z=function(e){f({}),S(e)},K=function(e){P({}),I(e)};Object(r.useEffect)((function(){return H(),function(){}}),[e.refresh]);var V=Date.now(),Y=M?l:l.filter((function(e){return!(Date.parse(e.expiration)<=V)})),J=N*L,$=J-L,X=Y.slice($,J),te=M?j:j.filter((function(e){return!(Date.parse(e.expiration)<=V)})),ne=A*L,re=ne-L,ae=te.slice(re,ne);return Object(h.jsxs)("div",{className:"liquidityPool boxStyle  p-4",children:[Object(h.jsx)("h2",{children:"OPTIONS CONTRACTS"}),Object(h.jsx)("hr",{}),Object(h.jsxs)(Z.a,{id:"controlled-tab-example",activeKey:a,onSelect:function(e){return function(e){z(1),K(1),i(e)}(e)},children:[Object(h.jsxs)(ee.a,{eventKey:"active",title:"Own",children:[Object(h.jsxs)("table",{className:"table table-dark",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Id"}),Object(h.jsx)("th",{scope:"col",children:"Strike"}),Object(h.jsx)("th",{scope:"col",children:"Amount"}),Object(h.jsx)("th",{scope:"col",children:"Premium"}),Object(h.jsx)("th",{scope:"col",children:"Expiration"}),Object(h.jsx)("th",{scope:"col",children:"Type"}),Object(h.jsx)("th",{scope:"col"})]})}),Object(h.jsx)("tbody",{children:X.map((function(t){var n=Date.parse(t.expiration)<=V,r=parseFloat(t.strike),a=0===t.optiontype&&e.marketPrice<r,i=1===t.optiontype&&e.marketPrice>r,c=[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id}),Object(h.jsx)("td",{children:parseFloat(t.strike).toFixed(4)}),Object(h.jsx)("td",{children:t.amount}),Object(h.jsx)("td",{children:t.premium}),Object(h.jsx)("td",{children:t.expiration}),Object(h.jsx)("td",{children:"1"==t.optiontype?"PUT":"CALL"}),Object(h.jsxs)("td",{children:["active"===t.status&&!n&&!a&&!i&&Object(h.jsx)(ie,{onSelectCurrency:function(e){var n=e.type;return G(t.id,n,f)}}),"active"===t.status&&n&&"expired","active"===t.status&&!n&&a&&"price too low","active"===t.status&&!n&&i&&"price too high","active"!==t.status&&t.status]})]})];return x.error&&x.option_id===t.id&&c.push(Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colspan:"7",children:Object(h.jsx)("div",{className:"alert alert-danger",children:x.error.toString()})})})),c}))})]}),Object(h.jsx)(ce,{optionsPerPage:L,totalOptions:Y.length,paginate:z,showExpired:M,onShowExpired:function(){q(!M),S(1)}})]}),Object(h.jsxs)(ee.a,{eventKey:"all",title:"All",children:[Object(h.jsxs)("table",{className:"table table-dark",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Id"}),Object(h.jsx)("th",{scope:"col",children:"Account"}),Object(h.jsx)("th",{scope:"col",children:"Strike"}),Object(h.jsx)("th",{scope:"col",children:"Amount"}),Object(h.jsx)("th",{scope:"col",children:"Premium"}),Object(h.jsx)("th",{scope:"col",children:"Expiration"}),Object(h.jsx)("th",{scope:"col",children:"Type"}),Object(h.jsx)("th",{scope:"col"})]})}),Object(h.jsx)("tbody",{children:ae.map((function(t){var n=Date.parse(t.expiration),r=n<=V,a=n-36e5<=V,i=parseFloat(t.strike),c=0===t.optiontype&&e.marketPrice<i,o=1===t.optiontype&&e.marketPrice>i,s=[Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.id}),Object(h.jsx)("td",{children:t.account}),Object(h.jsx)("td",{children:parseFloat(t.strike).toFixed(4)}),Object(h.jsx)("td",{children:t.amount}),Object(h.jsx)("td",{children:t.premium}),Object(h.jsx)("td",{children:t.expiration}),Object(h.jsx)("td",{children:"1"==t.optiontype?"PUT":"CALL"}),Object(h.jsxs)("td",{children:["active"===t.status&&!r&&!c&&!o&&((t.account===Q.accountName()||a)&&Object(h.jsx)(ie,{onSelectCurrency:function(e){var n=e.type;return G(t.id,n,P)}})||t.status),"active"===t.status&&r&&"expired","active"===t.status&&!r&&c&&"price too low","active"===t.status&&!r&&o&&"price too high","active"!==t.status&&t.status]})]})];return y.error&&y.option_id===t.id&&s.push(Object(h.jsx)("tr",{children:Object(h.jsx)("td",{colspan:"8",children:Object(h.jsx)("div",{className:"alert alert-danger",children:y.error.toString()})})})),s}))})]}),Object(h.jsx)(ce,{optionsPerPage:L,totalOptions:te.length,paginate:K,showExpired:M,onShowExpired:function(){q(!M),I(1)}})]})]})]})};function se(e){var t=Object(r.useState)(),n=Object(o.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){return e.getBalance(e.currency,(function(e){i(e)})),function(){}}),[e.refresh,e.currency]),Object(h.jsxs)("div",{className:"mt-2",children:["Your balance: ",a]})}var le=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={tradeOption:{option:"CALL",optionSize:"",strikePrice:"",holdingPeriod:1,currency:"USDC"},cryptoCurrency:k.getCryptoCurrency("USDC"),impliedVolRate:45.5,errors:{},components:{holdingPeriodMessage:!0,holdingPeriodChart:!0},graphData:{optionType:"CALL",currentPrice:0,strikePrice:0,breakEvenPrice:0,totalCost:0,previousPos:0,newPos:0},maxOptionSize:0},e.schema=function(){return{currency:N.a.string().required().label("Currency"),option:N.a.string().required().label("Trade Option"),optionSize:N.a.number().min(parseFloat("5")).max(e.state.maxOptionSize).required().label("Option Size"),strikePrice:N.a.number().required().label("Strike Price"),holdingPeriod:N.a.required().label("Holding Period")}},e.updateTick=function(){e.setState({refreshOptionList:!e.state.refreshOptionList,refreshBalance:!e.state.refreshBalance}),e.getMarketPrice(),e.getImpliedVolRate()},e.validate=function(){var t=N.a.validate(e.state.tradeOption,e.schema(),{abortEarly:!1}).error;if(!t)return null;var n,r={},a=Object(E.a)(t.details);try{for(a.s();!(n=a.n()).done;){var i=n.value;r[i.path[0]]=i.message}}catch(c){a.e(c)}finally{a.f()}return console.log(r),r},e.handleError=function(t){console.log("error:",t),e.setState({errors:{error:t.toString()}})},e.handleBuyError=function(t){console.log("buy error:",t),e.setState({errors:{buy:t.toString()}})},e.handleChange=function(t){var n=t.currentTarget,r=Object(P.a)({},e.state);r.components.holdingPeriodMessage=!r.components.holdingPeriodMessage,r.tradeOption[n.name]=n.value,e.updateState(r)},e.handleSubmit=function(t){t.preventDefault();var n=e.validate();if(e.setState({errors:n||{}}),!n){var r="PUT"===e.state.tradeOption.option?1:0,a=parseFloat(e.state.tradeOption.optionSize),i=parseFloat(e.state.tradeOption.strikePrice),c=parseInt(e.state.tradeOption.holdingPeriod),o=e.state.tradeOption.currency,s=e.state.graphData.totalCost;Q.optionCreateCurr(a.toFixed(4)+" EOS",i,c,r,o,s).then((function(t){e.setState({errors:{},refreshOptionList:!e.state.refreshOptionList,refreshBalance:!e.state.refreshBalance})}),e.handleBuyError)}},e.handleChangeCurrency=function(t){var n=t.currentTarget,r=Object(P.a)({},e.state);r.components.holdingPeriodMessage=!r.components.holdingPeriodMessage,r.tradeOption.currency=n.value,r.cryptoCurrency=k.getCryptoCurrency(n.value),e.setState(r),e.getMarketPrice()},e.handleGraph=function(e){Object(y.a)(e)},e.getBalance=function(t,n){Q.getCurrencyBalance(t).then((function(t){var r=t[0];e.setState({balance:r}),n(r)}),e.handleError)},e.getPoolStat=function(t){Q.poolStat().then((function(n){var r=n.rows&&n.rows[0],a=0;r&&(a=parseFloat(r.totaldeposit.split(" ")[0])-parseFloat(r.lockedamount.split(" ")[0])-parseFloat(r.lockedpremium.split(" ")[0]));console.log("!!! maxOptionSize:",a),e.setState({poolStat:r,maxOptionSize:a}),t(r)}),e.handleError)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){Object(P.a)({},this.state).errors={},this.updateState(this.state),this.getMarketPrice(),this.getImpliedVolRate(),this.updateInterval=setInterval(this.updateTick,5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.updateInterval)}},{key:"getMarketPrice",value:function(){var e=this,t=this.state.tradeOption.currency;if("USDC"===t||"DAI"===t){if(Object({NODE_ENV:"production",PUBLIC_URL:"/test-m",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CHAIN_ID:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",REACT_APP_CHAIN_NAME:"EOS",REACT_APP_EOS_ENDPOINT:"https://eos.greymass.com",REACT_APP_HEGEOS_SYMBOL:"EHEGIC",REACT_APP_LP_CONTRACT_NAME:"dadusdtokens",REACT_APP_MIN_OPTION_SIZE:"5",REACT_APP_NODE_ENDPOINT:"https://api.eosn.io:443",REACT_APP_OPTION_CONFIG_TABLE:"config2",REACT_APP_OPTION_CONTRACT_NAME:"dadeosoption",REACT_APP_POOL_CONTRACT_NAME:"ehegicpool11",REACT_APP_TEST_MARKET_PRICE_X:"yes"}).REACT_APP_TEST_MARKET_PRICE){var n=Object(P.a)({},this.state);return n.cryptoCurrency=k.getCryptoCurrency(t),void this.updateState(n)}Q.usdPrice().then((function(n){"USDC"===t&&n.usdc&&k.setMarketPrice("USDC",n.usdc),"DAI"===t&&n.dai&&k.setMarketPrice("DAI",n.dai);var r=Object(P.a)({},e.state);r.cryptoCurrency=k.getCryptoCurrency(t),e.updateState(r)}),this.handleError)}}},{key:"getImpliedVolRate",value:function(){var e=this;Q.optionConfig().then((function(t){var n=t.rows&&t.rows[0]&&t.rows[0].impliedvolrate;if(n){var r=Object(P.a)({},e.state);r.impliedVolRate=n,e.updateState(r)}}),this.handleError)}},{key:"updateState",value:function(e){var t=Object(P.a)({},e),n=t.tradeOption.option,r=parseFloat(t.tradeOption.optionSize)>0?parseFloat(t.tradeOption.optionSize):1,a=t.cryptoCurrency.marketPrice,i=parseFloat(t.tradeOption.strikePrice)>0?parseFloat(t.tradeOption.strikePrice):a,c=t.impliedVolRate,o=parseFloat(t.tradeOption.holdingPeriod);t.graphData.totalCost=L.getTotalCost(n,r,a,i,c,o,o),t.graphData.breakEvenPrice=L.getBreakEven(n,a,i,c,o,o),this.setState(t)}},{key:"render",value:function(){var e=this.state,t=e.cryptoCurrency,n=e.tradeOption,r=e.graphData,a=e.errors,i=e.components;return Object(h.jsxs)(h.Fragment,{children:[a.error&&Object(h.jsx)("div",{className:"alert alert-danger",children:a.error}),"home"===this.props.mode&&Object(h.jsx)(K,{isLoggedIn:this.props.isLoggedIn,onAttachWallet:this.props.onAttachWallet,onDisconnectWallet:this.props.onDisconnectWallet}),this.props.isLoggedIn()&&Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"boxStyle p-4",children:[Object(h.jsx)("h2",{children:"BUY AN OPTION CONTRACT"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("form",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-12 mb-5",children:[Object(h.jsx)("label",{className:"form-label",children:"Select Currency"}),Object(h.jsx)("br",{}),Object(h.jsx)("select",{name:"crypto",id:"crypto",className:"form-select",onChange:this.handleChangeCurrency,children:k.getCryptoCurrencies().map((function(e){return Object(h.jsx)("option",{value:e.currency,children:e.currency},e.currency)}))}),Object(h.jsx)(se,{getBalance:this.getBalance,currency:n.currency,refresh:this.state.refreshBalance,handleError:this.handleError})]}),Object(h.jsxs)("div",{className:"col-md-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Option Type:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"btn-group",role:"group","aria-label":"Select option",children:[Object(h.jsx)("input",{type:"radio",name:"option",id:"optionPut",className:"btn-check",onChange:this.handleChange,value:"PUT",checked:"PUT"===n.option.toString()}),Object(h.jsx)("label",{className:"PUT"===n.option.toString()?"btn btn-primary":"btn btn-secondary",htmlFor:"optionPut",children:"PUT"}),Object(h.jsx)("input",{type:"radio",name:"option",id:"optionCall",className:"btn-check",onChange:this.handleChange,value:"CALL",checked:"CALL"===n.option.toString()}),Object(h.jsx)("label",{className:"CALL"===n.option.toString()?"btn btn-primary":"btn btn-secondary",htmlFor:"optionCall",children:"CALL"})]}),a.option&&Object(h.jsx)("div",{className:"alert alert-danger",children:a.option})]}),Object(h.jsxs)("div",{className:"col-md-3",children:[Object(h.jsx)("label",{className:"form-label label-default",children:"Option Size:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"input-group mb-2",children:[Object(h.jsx)("input",{type:"text",name:"optionSize",id:"optionSize",className:"form-control",placeholder:parseFloat("5"),"aria-label":"EOS",value:n.optionSize,onChange:this.handleChange}),Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon2",children:"EOS"})]}),Object(h.jsxs)("div",{class:"mb-3",children:["Max: ",(this.state.maxOptionSize||0).toFixed(4)," EOS"]}),a.optionSize&&Object(h.jsx)("div",{className:"alert alert-danger",children:a.optionSize})]}),Object(h.jsxs)("div",{className:"col-md-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Strike Price:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",name:"strikePrice",id:"strikePrice",className:"form-control",placeholder:t.marketPrice.toFixed(2),onChange:this.handleChange}),Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon2",children:"USD"})]}),a.strikePrice&&Object(h.jsx)("div",{className:"alert alert-danger",children:a.strikePrice})]}),Object(h.jsxs)("div",{className:"col-md-3",children:[Object(h.jsx)("label",{className:"form-label",children:"Period of Holding:"}),Object(h.jsx)("br",{}),Object(h.jsxs)("select",{name:"holdingPeriod",id:"holdingPeriod",className:"form-select","aria-label":"Default select example",onChange:this.handleChange,children:[Object(h.jsx)("option",{value:"1",children:"1 day"}),Object(h.jsx)("option",{value:"7",children:"1 week (7 days)"}),Object(h.jsx)("option",{value:"14",children:"2 weeks (14 days)"}),Object(h.jsx)("option",{value:"21",children:"3 weeks (21 days)"}),Object(h.jsx)("option",{value:"28",children:"4 weeks (28 days)"})]})]}),Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsx)(G,{option:n.option,holdingPeriod:n.holdingPeriod,strikePrice:parseInt(n.strikePrice)>0?n.strikePrice:t.marketPrice.toFixed(2),breakEvenPrice:r.breakEvenPrice.toFixed(2)},i.holdingPeriodMessage)}),Object(h.jsx)("div",{className:"col-md-12",children:Object(h.jsx)(H,{strikePrice:parseInt(n.strikePrice)>0?n.strikePrice:t.marketPrice.toFixed(2),marketPrice:t.marketPrice,option:n.option,currentPrice:parseInt(n.strikePrice)>0?n.strikePrice:t.marketPrice.toFixed(2),breakEvenPrice:r.breakEvenPrice,totalCost:r.totalCost})}),Object(h.jsx)("div",{className:"col-md-12",children:this.props.isLoggedIn()?[Object(h.jsx)("button",{className:"btn btn-primary",onClick:this.handleSubmit,children:"Buy Option Contract"}),a.buy&&Object(h.jsx)("div",{className:"alert alert-danger mt-4",children:a.buy})]:Object(h.jsx)(f,{isLoggedIn:this.props.isLoggedIn,onAttachWallet:this.props.onAttachWallet,onDisconnectWallet:this.props.onDisconnectWallet})})]})]})}),Object(h.jsx)(X,{getPoolStat:this.getPoolStat,handleError:this.handleError}),"home"!==this.props.mode&&this.props.isLoggedIn()&&Object(h.jsx)(oe,{marketPrice:t.marketPrice,refresh:this.state.refreshOptionList,handleError:this.handleError}),Object(h.jsx)(M,{})]})}}]),n}(r.Component);var ue=function(e){return Object(h.jsx)(le,{mode:"home",isLoggedIn:e.isLoggedIn,onAttachWallet:e.onAttachWallet,onDisconnectWallet:e.onDisconnectWallet})},de=n.p+"static/media/color-bg-2.f83e645f.png",pe=n.p+"static/media/color-bg.0132cc7a.png";var he=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"banner-color",children:Object(h.jsx)("img",{src:de,alt:""})}),Object(h.jsx)("div",{className:"hegeos-color",children:Object(h.jsx)("img",{src:pe,alt:""})})]})};var je=function(e){return Object(h.jsx)(le,{mode:"holders",isLoggedIn:e.isLoggedIn,onAttachWallet:e.onAttachWallet,onDisconnectWallet:e.onDisconnectWallet})};n(104);n(77);var be="EOS";var me=function(e){var t=Object(r.useState)(1),n=Object(o.a)(t,2),a=n[0],i=n[1],c=Object(r.useState)(1),s=Object(o.a)(c,2),l=s[0],u=s[1],d=Object(r.useState)({}),p=Object(o.a)(d,2),j=p[0],b=p[1],m=Object(r.useState)(!1),O=Object(o.a)(m,2),x=O[0],f=O[1],v=Object(r.useState)(1),g=Object(o.a)(v,2),y=g[0],P=g[1],C=Object(r.useState)(!1),S=Object(o.a)(C,2),k=S[0],w=S[1],A=Object(r.useState)(0),I=Object(o.a)(A,2),T=(I[0],I[1]),_=function(e){console.log(e),b({error:e.toString()})},L=function(e){console.log(e),b({deposit:e.toString()})},D=function(e){console.log(e),b({withdraw:e.toString()})},R=function(e){var t=function(){var e=N.a.validate({depositAmount:a},{depositAmount:N.a.number().required().label("Deposited Amount")},{abortEarly:!1}).error;if(!e)return null;var t,n={},r=Object(E.a)(e.details);try{for(r.s();!(t=r.n()).done;){var i=t.value;n[i.path[0]]=i.message}}catch(c){r.e(c)}finally{r.f()}return console.log(n),n}();if(b(t||{}),!t){var n=parseFloat(a);console.log("deposit amount:",n),Q.poolDeposit(n.toFixed(4)+" EOS","0.0000 EHEGIC").then((function(e){b({}),f(!x)}),L)}},F=function(e){var t=function(){var e=N.a.validate({withdrawAmount:l},{withdrawAmount:N.a.number().required().label("Withdrawal Amount")},{abortEarly:!1}).error;if(!e)return null;var t,n={},r=Object(E.a)(e.details);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.path[0]]=a.message}}catch(i){r.e(i)}finally{r.f()}return console.log(n),n}();if(b(t||{}),!t){var n=parseFloat(l),r=n*y;console.log("withdraw amount:",n,"maxbirn:",r),Q.poolWithdraw(n.toFixed(4)+" EOS",r.toFixed(4)+" EHEGIC").then((function(e){b({}),f(!x)}),D)}},W=function(e,t){Q.getCurrencyBalance(e).then((function(e){var n=e[0];t(n)}),_)};return Object(r.useEffect)((function(){var e=setInterval((function(){f((function(e){return!e})),w((function(e){return!e})),T((function(e){return e+1}))}),5e3);return function(){return clearInterval(e)}}),[]),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-md-7 pt-md-5",children:[Object(h.jsxs)("h2",{children:["EARN YIELD ON ",be," AS A LIQUIDITY PROVIDER"]}),Object(h.jsx)("p",{children:"Provide liquidity to a non-custodial pool. EOS Pool is used for selling CALL and PUT options. Earn premiums in an automated way."})]}),j.error&&Object(h.jsx)("div",{className:"alert alert-danger",children:j.error}),e.isLoggedIn()&&Object(h.jsxs)("div",{className:"col-md-12",children:[Object(h.jsx)("h2",{children:"PROVIDE LIQUIDITY"}),Object(h.jsx)("hr",{}),Object(h.jsxs)("div",{className:" boxStyle p-4",children:[Object(h.jsxs)("div",{className:"callout callout-even small",children:["Liquidity (liquidity providers) receive ","EHEGIC"," tokens that give them a share in the pool's premiums that are distributed to them after the options contracts expiration. When a writer wishes to receive their ",be," ","back, he should call the Withdraw function of the contract and burn ","EHEGIC","tokens. ",be," will be sent to the writer\u2019s"," ","address. Attention: do not send ","EHEGIC"," tokens to the contract address because you will lose your funds."]}),Object(h.jsxs)("div",{className:"row",children:[Object(h.jsxs)("div",{className:"col-sm-4",children:[Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"1","aria-label":"EOS",value:a,onChange:function(e){var t=e.currentTarget;i(t.value)}}),Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon2",children:"EOS"})]}),Object(h.jsx)("p",{children:Object(h.jsx)(se,{getBalance:W,currency:"EOS",refresh:k,handleError:_})}),j.depositAmount&&Object(h.jsx)("div",{className:"alert alert-danger",children:j.depositAmount})]}),Object(h.jsx)("div",{className:"col-sm-4 text-center with-arrow",children:Object(h.jsx)("div",{className:"provide-liquidity__arrow"})}),Object(h.jsxs)("div",{className:"col-sm-4",children:[" ",Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"1","aria-label":"EHEGIC",readonly:"true",value:(a*y).toFixed(2)}),Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon2",children:"EHEGIC"})]})]}),Object(h.jsxs)("div",{class:"col-md-12",children:[Object(h.jsx)("a",{className:"btn btn-primary col-md-12",onClick:function(){return R()},children:"Deposit"}),j.deposit&&Object(h.jsx)("div",{className:"alert alert-danger mt-4",children:j.deposit}),Object(h.jsxs)("p",{className:"small pt-4",children:['Click the "Deposit" button and ',a," ",be," ","will be sent from your ",be," address to the liquidity pool contract. After the transaction is confirmed by miners, you will automatically receive ","EHEGIC"," tokens. These tokens will give you a share in premiums paid by the options holders."]})]}),Object(h.jsxs)("div",{className:"col-sm-4",children:[Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"1","aria-label":"EHEGIC",value:l,onChange:function(e){var t=e.currentTarget;u(t.value)}}),Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon2",children:"EHEGIC"})]}),Object(h.jsx)("p",{children:Object(h.jsx)(se,{getBalance:W,currency:"EHEGIC",refresh:k,handleError:_})}),j.withdrawAmount&&Object(h.jsx)("div",{className:"alert alert-danger",children:j.withdrawAmount})]}),Object(h.jsx)("div",{className:"col-sm-4 text-center with-arrow",children:Object(h.jsx)("div",{className:"provide-liquidity__arrow"})}),Object(h.jsxs)("div",{className:"col-sm-4",children:[" ",Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"1","aria-label":"EOS",readonly:"true",value:(l/(y||1)).toFixed(2)}),Object(h.jsx)("span",{className:"input-group-text",id:"basic-addon2",children:"EOS"})]})]}),Object(h.jsxs)("div",{class:"col-md-12",children:[Object(h.jsx)("a",{className:"btn btn-primary col-md-12",onClick:function(){return F()},children:"Withdraw"}),j.withdraw&&Object(h.jsx)("div",{className:"alert alert-danger mt-4",children:j.withdraw}),Object(h.jsxs)("p",{className:"small pt-4",children:['Click the "Withdraw" button and ',l," ",be," ","will be sent to your ",be," address."]})]})]})]}),Object(h.jsx)(X,{getPoolStat:function(e){Q.poolStat().then((function(t){var n=t.rows&&t.rows[0];console.log("pool stat:",n),e(n),Q.hegeosStat().then((function(e){var t=e.rows&&e.rows[0];if(console.log("HEGEOS stat:",t),n&&t){var r=parseFloat(n.totaldeposit.split(" ")[0]),a=parseFloat(n.lockedpremium.split(" ")[0]),i=parseFloat(t.supply.split(" ")[0]);if(console.log("totaldeposit:",r),console.log("lockedpremium:",a),console.log("supply:",i),r>a&&i>0){var c=i/(r-a);console.log("HEGEOS rate:",c),P(c)}}}),_)}),_)},refresh:x,handleError:e.handleError})]})]})};var Oe=[];Oe.EOS={rate:165e3,min:0,max:100},Oe.DAI={rate:165e3,min:25,max:100},Oe.ALL={rate:Oe.EOS.rate+Oe.DAI.rate,min:25,max:100};n(77);var xe=n(282),fe=n(178),ve=n(77),ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e)).isLoggedIn=function(){var e=Q.isLoggedIn(r.props);return console.log("isLoggedIn:",e),e},r.attachWallet=function(){r.props.ual.showModal()},r.disconnectWallet=function(e){r.props.ual.activeUser&&r.props.ual.logout(),r.setState({wallet:!1})},r.state={wallet:!1},r}return Object(l.a)(n,[{key:"render",value:function(){return Object(h.jsxs)(a.a.Fragment,{children:[Object(h.jsxs)("main",{className:"container",children:[Object(h.jsx)(g,{isLoggedIn:this.isLoggedIn,onAttachWallet:this.attachWallet,onDisconnectWallet:this.disconnectWallet}),Object(h.jsx)("div",{className:"content",children:Object(h.jsxs)(p.c,{children:[Object(h.jsx)(p.a,{path:ve.homepage+"/holders",children:Object(h.jsx)(je,{isLoggedIn:this.isLoggedIn,onAttachWallet:this.attachWallet,onDisconnectWallet:this.disconnectWallet})}),Object(h.jsx)(p.a,{path:ve.homepage+"/liquidity",children:Object(h.jsx)(me,{isLoggedIn:this.isLoggedIn})}),Object(h.jsx)(p.a,{path:ve.homepage+"/faq",children:Object(h.jsx)(F,{})})," ",Object(h.jsxs)(p.a,{exact:!0,path:ve.homepage+"/",children:[this.isLoggedIn()&&Object(h.jsx)(je,{isLoggedIn:this.isLoggedIn,onAttachWallet:this.attachWallet,onDisconnectWallet:this.disconnectWallet}),!this.isLoggedIn()&&Object(h.jsx)(ue,{isLoggedIn:this.isLoggedIn,onAttachWallet:this.attachWallet,onDisconnectWallet:this.disconnectWallet})]})]})})]}),Object(h.jsx)(he,{}),Object(h.jsx)(b,{})]})}}]),n}(a.a.Component),ye=[{chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",name:"EOS",rpcEndpoints:[{protocol:"https",host:new URL("https://api.eosn.io:443").host,port:443}]}],Pe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var r;Object(s.a)(this,n),(r=t.call(this,e)).setChain=function(e){r.setState({chainId:e.target.value})};var a=window.location.search,i=new URLSearchParams(a).get("chain");return r.state={chainId:i||ye[0].chainId},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.chainId,t=this.props.available.filter((function(t){return t.chainId===e})),n=Object(o.a)(t,1)[0];if(!n)return Object(h.jsx)("div",{children:"Invalid Chain ID"});var r=new xe.Anchor([n],{appName:"hegeos"});return Object(h.jsx)("div",{children:Object(h.jsx)(fe.UALProvider,{appName:"Hegeos",authenticators:[r],chains:[n],children:Object(h.jsx)(Ee,{})},n.chainId)})}}]),n}(a.a.Component),Ee=Object(fe.withUAL)(ge),Ce=function(){return Object(h.jsx)(Pe,{available:ye})},Ne=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,605)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(h.jsx)(m.a,{children:Object(h.jsx)(Ce,{})}),document.getElementById("root")),Ne()},77:function(e){e.exports=JSON.parse('{"name":"hegeos-front-end","version":"0.2.48","private":true,"homepage":"/test-m","dependencies":{"@testing-library/jest-dom":"^5.12.0","@testing-library/react":"^11.2.6","@testing-library/user-event":"^12.8.3","bootstrap":"^5.0.0","chart.js":"^3.2.1","eosio-signing-request":"^2.2.1","eosjs":"^21.0.4","joi-browser":"^13.4.0","lodash":"^4.17.21","node-sass":"^6.0.0","react":"^17.0.2","react-bootstrap":"^1.5.2","react-chartjs-2":"^3.0.3","react-dom":"^17.0.2","react-router-dom":"^5.2.0","react-scripts":"4.0.3","react-spring":"^9.1.2","sass":"^1.32.12","ual-anchor":"^1.0.6","ual-ledger":"^0.3.0","ual-reactjs-renderer":"^0.3.1","ual-scatter":"^0.3.0","web-vitals":"^1.1.2"},"scripts":{"start":"SET PORT=3001 && react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')}},[[595,1,2]]]);
//# sourceMappingURL=main.1db719ed.chunk.js.map